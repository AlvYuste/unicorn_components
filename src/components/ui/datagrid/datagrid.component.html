<nts-row class="header">
    <div class="header-item"
        [ngClass]="{
            'order-asc': order.field === column.field && order.dir === false,
            'order-desc': order.field === column.field && order.dir === true
        }"
        *ngFor="let column of columns"
        (click)="onOrderBy(column.field)"
    >
        {{column.title}}
    </div>
</nts-row>
<nts-separator></nts-separator>
<div class="content">

    <nts-row class="content-row"
        *ngFor="let row of data | order : orderKey; let i = index;"
    >
        <div class="content-cell"
            *ngFor="let column of columns; let j = index;"
            [ngSwitch]="column.format"
            (click)="cellClick.emit({i: i, j: j, row: row, column: column, cell: row[column.field]})"
        >
            <div *ngSwitchCase="'custom'">Custom template</div>
            <div *ngSwitchCase="'progress'">
                <nts-progress [value]="row[column.field]"></nts-progress>
            </div>
            <div *ngSwitchCase="'badge'">
                <nts-badge [label]="row[column.field]" [color]="column.formatOptions?.color || 'error'"></nts-badge>
            </div>
            <div *ngSwitchCase="'text'">{{row[column.field]}}</div>

            <div *ngSwitchDefault>{{row[column.field] | format: column.format}}</div>
        </div>
    </nts-row>
</div>
